language: java
branches:
  only:
  - master
  - develop
install: true
jdk:
- oraclejdk8
cache:
  directories:
  - $HOME/.m2
script:
- git clone -b master https://github.com/nablarch/nablarch-ci-script.git $HOME/build-script/
  && chmod +x $HOME/build-script/travis-ci/*.sh
- $HOME/build-script/travis-ci/setup-oracle-jdk6.sh
- $HOME/build-script/travis-ci/prepare_travis_settings.sh
- $HOME/build-script/travis-ci/build-nablarch.sh -m deploy -p ci,dev-deploy
- $HOME/build-script/travis-ci/upload-test-report.sh -p dev-deploy
notifications:
  slack:
    secure: IBoecMTCF9FRM2XAYA8kO5Fk/zwg09U9NDgeQqx3Wg8qOwzKqOSuHhLlFWnztLhYn/2no/sPvY7EJAHdFVdRYQj71zpDldlk2RCencipsbIl+nhaeKv0X37z/aINsrgr6fMdvZWryQMMlpqhu1Ww2dYFinP3Nn7zpmrLlqTqyZWco3+Uve0F4Td02iJ47eRKLeSDuLFOtHubxcXgj3Ar1mRqTCKnvWuWLDT08UDmepO8RvOHtvhjR7Z38bE7CfY7kKDlMDQLyTt2hXDjsPcX0Y7SjNKKKtOpHOwGpDroC7gF2GPXQCgQLCNVUBT3U0l5UcELuzjI0XAoE233+uPv839iH5AWNKVIJeZoFCJbUpBm6+z2CEgb/Xf/ZM2Z87PYZYwLjUamt1YCRvhjkN2BAhHKccFsfPnOjiQL3EcmmJIcwkezWeqdmM04kz34c2qXKadU7g1HN9efViN3bxEvAbjDU3J24SOilY3xdUUk8NpqT6VWEC+9AidjxHeKA/rzJ3ANSYMXBZUBWWMVXAQLHnwJQRX/Crchb387nVXpQI2KiiMsVIpsHu3qdGNyAqWV879kp+dNR/6Lajb0fpY4vZm4BQ56bQUTHfbc7cCf8e9POO/s1Assp4XvN1m4ScWGX9Hy9It1iUj8PW+GYnGbSy6AHJ8yUMAsE2DcvZhTNo0=
